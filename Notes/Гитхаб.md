## **1. Суть Git**

**Git** — распределённая система контроля версий. Хранит не файлы, а **снимки состояний** (коммиты). Каждый коммит имеет уникальный **хэш**.

---

## **2. Базовая настройка (делается один раз)**

bash

git config --global user.name "Ваше Имя"
git config --global user.email "your.email@example.com"
git config --global color.ui auto

---

## **3. Специальные символы для указания коммитов**

- **`~`** (тильда) — перемещение по родителям:
    
    - `HEAD~` или `HEAD~1` — первый родитель
        
    - `HEAD~2` — дедушка (родитель родителя)
        
- **`^`** (карет) — выбор конкретного родителя (для merge-коммитов):
    
    - `HEAD^1` — первый родитель
        
    - `HEAD^2` — второй родитель
        

---

## **4. Жизненный цикл файлов**

text

Рабочая папка → (git add) → Staging Area (индекс) → (git commit) → Репозиторий

---

## **5. Базовые команды**

### **Создание и клонирование**

bash

git init                    # Создать новый репозиторий здесь
git clone <url>            # Склонировать удалённый репозиторий

### **Подключение к существующему удалённому репозиторию (не клонирование)**

bash

# 1. Создать пустую папку и перейти в неё
mkdir my-project && cd my-project

# 2. Инициализировать локальный репозиторий
git init

# 3. Привязать удалённый репозиторий (обычно называют origin)
git remote add origin <URL_удалённого_репозитория>

# 4. Впервые получить все ветки и коммиты с сервера
git fetch --all

# 5. Создать локальную ветку main и привязать её к удалённой
git checkout -b main origin/main

# Теперь можно работать: делать pull, push и т.д.

### **Стандартный рабочий цикл**

bash

git status                  # Показать состояние файлов
git add <file>             # Добавить файл в индекс
git add .                  # Добавить ВСЕ изменения в индекс
git commit -m "Сообщение"  # Закоммитить изменения

### **Просмотр истории**

bash

git log                     # Показать историю коммитов
git log --oneline --graph --all  # Компактная история с ветвлением

### **Отмена действий**

bash

git restore <file>         # Откатить файл к состоянию последнего коммита
git restore --staged <file> # Убрать файл из индекса (оставив изменения)
git commit --amend         # Исправить последний коммит

---

## **6. Ветки (Branches)**

### **Основные команды**

bash

git branch                  # Показать список веток
git branch <name>          # Создать новую ветку
git checkout <name>        # Переключиться на ветку
git switch <name>          # Новый способ переключения (Git 2.23+)
git checkout -b <name>     # Создать и переключиться на ветку
git switch -c <name>       # Новый способ создать и переключиться
git merge <branch>         # Влить ветку в текущую
git branch -d <name>       # Удалить ветку (если изменения влиты)

### **Rebase — перезапись истории**

bash

# Переместить коммиты текущей ветки на конец указанной ветки
git rebase <базовая_ветка>

# Интерактивный rebase (для последних 3 коммитов)
git rebase -i HEAD~3

# Во время rebase если возник конфликт:
git add <исправленные_файлы>
git rebase --continue

# Отменить rebase в случае проблем
git rebase --abort

**Важно:** Не делайте rebase коммитов, которые уже были отправлены в общий репозиторий!

### **Стратегии ветвления**

- **main/master** — стабильная версия
    
- **feature/** — новая функциональность
    
- **hotfix/** — срочные исправления
    

---

## **7. Работа с удалёнными репозиториями**

### **Основные команды**

bash

git remote -v               # Показать привязанные удалённые репозитории
git remote add <name> <url> # Добавить удалённый репозиторий
git fetch                  # Скачать изменения с сервера (без слияния)
git pull                   # Скачать и автоматически слить (git fetch + git merge)
git pull --rebase          # Скачать и перебазировать поверх
git push                  # Отправить изменения на сервер

### **Создание и привязка веток**

bash

# Отправить локальную ветку на сервер и привязать её
git push -u origin <branch_name>

# Переключиться на удалённую ветку (создаст локальную копию)
git checkout -t origin/<remote_branch>

# Привязать существующую локальную ветку к удалённой
git branch -u origin/<branch>

### **Типовой workflow**

1. `git pull` перед началом работы
    
2. `git switch -c feature/new-feature`
    
3. Работа + коммиты
    
4. `git push -u origin feature/new-feature`
    
5. Создать Pull Request на GitHub
    

---

## **8. Решение конфликтов**

1. Git сообщает о конфликте при merge/pull/rebase
    
2. В файлах появляются маркеры:
    
    text
    
    <<<<<<< HEAD
    Ваша версия
    =======
    Версия из ветки
    >>>>>>> branch-name
    
3. Вручную редактируете файл, оставляя нужный код
    
4. Удаляете маркеры конфликта
    
5. `git add <file>`
    
6. `git commit` (для merge) или `git rebase --continue` (для rebase)
    

---

## **9. Полезные команды**

### **Просмотр изменений**

bash

git diff                   # Показать непроиндексированные изменения
git diff --staged         # Показать изменения в индексе
git diff HEAD~3..HEAD     # Показать изменения за последние 3 коммита